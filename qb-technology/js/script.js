"use strict";var store={state:{preloadEnded:!1,startVideoLoaded:!1,isDesktop:1023<window.innerWidth,prevIndex:0,openMenu:!1,activeIndex:0,letsTalkOverlay:!1,whatImgShowed:!1,sectionScrollPercent:0}};if(document.querySelector(".construction"))var Counstruction=new Vue({el:".construction",data:{$video:null,startVideoTimeout:null,startVideoTimeoutLimit:15e3,pageStore:store.state},mounted:function(){window.addEventListener("resize",this.winResize),this.winResize()},methods:{initVideo:function(){var e=this;this.$video=document.getElementById("start-video"),0!==this.$video.readyState||this.startVideoTimeout||(this.$video.load(),this.startVideoTimeout=setTimeout(function(){e.$video.removeEventListener("canplaythrough",e.startVideo),e.startVideo()},this.startVideoTimeoutLimit),this.$video.addEventListener("canplaythrough",this.startVideo))},startVideo:function(){this.pageStore.startVideoLoaded=!0,this.$video.play(),clearTimeout(this.startVideoTimeout)},winResize:function(){this.pageStore.isDesktop?this.initVideo():this.pageStore.startVideoLoaded=!0}}});if(document.getElementById("header"))var Header=new Vue({el:"#header",data:{openMenu:!1,pageStore:store.state},methods:{handleMenuLinkClick:function(){this.pageStore.letsTalkOverlay=!1,this.openMenu=!1},handleToggleMenu:function(){this.openMenu=!this.openMenu}}});if(document.querySelector(".lets-talk-link"))var LetsTalkLink=new Vue({el:".lets-talk-link",data:{pageStore:store.state},methods:{handleClick:function(){LetsTalk.showLetsTalk()}}}),LetsTalk=new Vue({el:".talk",data:{pageStore:store.state},computed:{letsTalkOverlay:{get:function(){return this.pageStore.letsTalkOverlay},set:function(e){this.pageStore.letsTalkOverlay=e}}},methods:{showLetsTalk:function(){this.letsTalkOverlay=!this.letsTalkOverlay&&6!==this.pageStore.activeIndex}},watch:{letsTalkOverlay:function(e){e?document.body.classList.add("is-overlay"):document.body.classList.remove("is-overlay")}}});if(document.querySelector(".newsletter"))var Newsletter=new Vue({el:".newsletter",data:{formClass:"",message:"",heading:"Sign Up",success:!1},methods:{formSubmit:function(e){var t=this,o=e.target,s={};if([].forEach.call(o.querySelectorAll("input,textarea"),function(e){s[e.getAttribute("name")]=e.value.trim()}),""===s.email)this.message="Field is empty",this.formClass="error";else{var i=new XMLHttpRequest;i.open("POST","/includes/collect-subscribers.php",!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE&&200===i.status){var e=JSON.parse(i.responseText);t.formClass="",e.success?(t.success=!0,t.heading="Thank you for subscribing"):(t.message=e.errors.email,t.formClass="error")}},i.onerror=function(e){this.message="Oops! Sorry, your email cannot be sent right now.",this.formClass="error"},i.send(JSON.stringify(s))}}}});if(document.getElementById("preloader"))var Preloader=new Vue({el:"#preloader",data:{loadTimeout:null,open:!0,preloadTimeoutLimit:15e3,isScrolled:!1,resizeTimeout:null,isResized:!1,pageStore:store.state},created:function(){var t=this;window.addEventListener("resize",function(e){t.resizeTimeout&&clearTimeout(t.resizeTimeout),t.isResized=!0,t.resizeTimeout=setTimeout(function(){t.isResized=!1},1e3),t.setIsDesktop(),t.pageStore.sectionScrollPercent=100}),this.setIsDesktop(),this.loadPageSources()},methods:{setIsDesktop:function(){this.pageStore.isDesktop=1023<window.innerWidth},initCustomPageScroll:function(){var o=Preloader._data,a=o.pageStore;new fullslides("#sections",{anchors:["home","about-us","values","services","qb-advantage","newsletter","contact"],scrollOverflow:!0,css3:!1,scrollingSpeed:600,scrollOverflowOptions:{useTransform:!1,useTransition:!1,scrollbars:!1,probeType:3},autoScrolling:!0,responsiveWidth:1023,bigSectionsDestination:"top",afterLoad:function(e,t){if(e&&a.isDesktop){var o=e.item,s=t.item,i=o.querySelector(".fp-scrollable"),r=s.querySelector(".fp-scrollable");3===e.index&&(a.whatImgShowed=!0),i&&(o.scrollTo(0,0),i.fp_iscrollInstance.scrollTo(0,0)),r&&r.fp_iscrollInstance.on("scroll",function(){a.sectionScrollPercent=100/(this.maxScrollY/parseInt(r.querySelector(".fp-scroller").style.top,10))})}},onLeave:function(e,t){if(a.letsTalkOverlay||o.isResized)return!1;a.prevIndex=e.index,a.activeIndex=t.index,a.sectionScrollPercent=a.isDesktop?0:100}})},pageLoadComplete:function(){this.open=!1,this.pageStore.preloadEnded=!0,this.initCustomPageScroll(),window.removeEventListener("load",this.pageLoadComplete),clearTimeout(this.loadTimeout)},loadPageSources:function(){var e=this;this.loadTimeout=setTimeout(function(){e.pageLoadComplete()},this.preloadTimeoutLimit),window.addEventListener("load",this.pageLoadComplete)}}});if(document.querySelector(".scroll-down-tip"))var ScrollDownTip=new Vue({el:".scroll-down-tip",data:{pageStore:store.state},computed:{className:function(){return{fast:!(0===this.pageStore.activeIndex&&0===this.pageStore.prevIndex),hidden:6===this.pageStore.activeIndex||0<this.pageStore.sectionScrollPercent&&this.pageStore.sectionScrollPercent<90}}}});if(document.querySelector(".what"))var What=new Vue({el:".what",data:{pageStore:store.state},computed:{percentScrolled:function(){return this.pageStore.whatImgShowed?100:this.pageStore.sectionScrollPercent}}});